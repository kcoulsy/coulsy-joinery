---
// This is the main index page

import Layout from "../layouts/Layout.astro";
import HeroSlider from "../components/HeroSlider.astro";
import Why from "../components/Why.astro";
import OurServicesBody from "../components/OurServicesBody.astro";
import Reviews from "../components/Reviews.astro";
import { DETAILS } from "../constants/details";

// Import images with modern priority loading
import timber20joinery from "../assets/images/timber20joinery.jpg";
import mouldingPlane from "../assets/images/moulding_plane.png";
import kitchenFitter from "../assets/images/kitchens/kitchen-fitter-domestic.jpg";

const slides = [
  {
    image: mouldingPlane,
    text: "Welcome to Coulsy Joinery and Building",
    subtitle: "Crafting excellence in York, Wetherby & Harrogate",
    cta: {
      text: "Our Services",
      link: "/joinery-services",
    },
  },
  {
    image: kitchenFitter,
    text: "Fitted Kitchens, Refurbs & Small Build Works",
    subtitle: "Transform your space with bespoke craftsmanship",
    cta: {
      text: "Get a Quote",
      link: "/contact",
    },
  },
  {
    image: timber20joinery,
    text: "Bespoke Joinery, Skilled, Reliable Craftsmanship — Every Time",
    subtitle: "Quality you can trust, delivered on time",
    cta: {
      text: "Our Services",
      link: "/joinery-services",
    },
  },
];

// Enhanced SEO optimization with personal voice preserved
const seoData = {
  title:
    "Coulsy Joinery - Professional Joinery Services in York | Bespoke Kitchens & Garden Offices",
  description:
    "Expert joinery services in York including bespoke kitchens, garden offices, heritage restoration, and small building works. Family-run business with 35+ years experience since 1989. Professional quotes available.",
  keywords:
    "joinery York, bespoke kitchens, garden offices, heritage joinery, kitchen installers, carpentry services, building contractors York, Robert Coulson joiner, local joiner York, qualified carpenter Yorkshire",
  ogImage: "/og-image.jpg",
  canonical: "https://coulsyjoinery.co.uk",
  structuredData: {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    name: "Coulsy Joinery",
    alternateName: "Coulsy Joinery & Small Build",
    description:
      "Professional joinery services in York including bespoke joinery, kitchen installations, garden offices, heritage restoration, and small building works.",
    url: "https://coulsyjoinery.co.uk",
    telephone: DETAILS.PHONE,
    email: DETAILS.EMAIL,
    address: {
      "@type": "PostalAddress",
      streetAddress: DETAILS.ADDRESS.LINE_1,
      addressLocality: DETAILS.ADDRESS.TOWN,
      addressRegion: DETAILS.ADDRESS.COUNTY,
      postalCode: DETAILS.ADDRESS.POSTCODE,
      addressCountry: "GB",
    },
    geo: {
      "@type": "GeoCoordinates",
      latitude: "53.9590",
      longitude: "-1.0792",
    },
    openingHours: ["Mo-Fr 08:00-18:00", "Sa 09:00-16:00"],
    priceRange: "££",
    areaServed: ["York", "Wetherby", "Harrogate", "Yorkshire"],
    serviceArea: {
      "@type": "GeoCircle",
      geoMidpoint: {
        "@type": "GeoCoordinates",
        latitude: "53.9590",
        longitude: "-1.0792",
      },
      geoRadius: "50000",
    },
    hasOfferCatalog: {
      "@type": "OfferCatalog",
      name: "Joinery Services",
      itemListElement: [
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "Bespoke Joinery",
            description:
              "Made-to-measure joinery tailored to your space and style",
          },
        },
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "Kitchen Installation",
            description:
              "Full kitchen installs tailored to your layout and finish",
          },
        },
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "Garden Offices",
            description: "Timber-framed garden office installation",
          },
        },
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "Heritage Restoration",
            description:
              "Expert restoration and reproduction of period joinery",
          },
        },
      ],
    },
    foundingDate: "1989",
    founder: {
      "@type": "Person",
      name: "Robert Coulson",
      jobTitle: "Master Joiner",
      description:
        "Qualified since 1989 with over 35 years of joinery experience",
    },
    employee: [
      {
        "@type": "Person",
        name: "Robert Coulson",
        jobTitle: "Master Joiner",
        description: "Qualified since 1989 with 35+ years experience",
      },
      {
        "@type": "Person",
        name: "Debbie Coulson",
        jobTitle: "Project Manager",
      },
    ],
    aggregateRating: {
      "@type": "AggregateRating",
      ratingValue: "5.0",
      reviewCount: "10",
      bestRating: "5",
      worstRating: "1",
    },
    award: [
      "City & Guilds Qualified (1989)",
      "CSCS Gold Card Holder",
      "Fully Insured",
      "VAT Registered",
    ],
    brand: {
      "@type": "Brand",
      name: "Coulsy Joinery",
      slogan: "Crafting Excellence in York",
    },
  },
};
---

<Layout
  title={seoData.title}
  description={seoData.description}
  keywords={seoData.keywords}
  ogImage={seoData.ogImage}
  structuredData={seoData.structuredData}
  classes=""
>
  <!-- Hero Section with modern optimization -->
  <section class="relative z-10 mx-auto animate-on-scroll">
    <HeroSlider slides={slides} />
  </section>

  <!-- Why Choose Us Section with personal voice preserved -->
  <section class="relative z-10 mx-auto animate-on-scroll">
    <Why />
  </section>

  <!-- Services Section with modern structure -->
  <section
    class="section bg-gradient-to-b from-white to-brand-50 relative z-10"
  >
    <div class="container-wide">
      <div class="section-header animate-on-scroll">
        <h2 class="section-title text-gradient">Our Services</h2>
        <p class="section-subtitle text-balance">
          From bespoke joinery to complete kitchen installations, we deliver
          quality craftsmanship across all aspects of joinery and small building
          works.
        </p>
      </div>

      <div class="animate-on-scroll">
        <OurServicesBody />
      </div>
    </div>
  </section>

  <!-- Call to Action Section with enhanced styling -->
  <section class="section gradient-brand relative z-10 overflow-hidden">
    <!-- Background decoration -->
    <div class="absolute inset-0 opacity-10">
      <div
        class="absolute top-0 left-0 w-64 h-64 bg-white rounded-full -translate-x-32 -translate-y-32"
      >
      </div>
      <div
        class="absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full translate-x-48 translate-y-48"
      >
      </div>
    </div>

    <div class="container-narrow relative">
      <div class="text-center animate-on-scroll">
        <h2
          class="text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-6 text-balance"
        >
          Ready to Start Your Project?
        </h2>
        <p class="text-xl text-brand-100 mb-8 max-w-2xl mx-auto text-balance">
          Whether it's a kitchen refit, garden office, or bespoke joinery work,
          I'm here to help bring your vision to life with quality craftsmanship.
        </p>
        <div
          class="flex flex-col sm:flex-row gap-4 justify-center items-center"
        >
          <a
            href="/contact"
            class="btn btn-secondary btn-lg hover-lift focus-ring"
            aria-label="Get a professional quote for your joinery project"
          >
            Get Your Quote
          </a>
          <a
            href="/joinery-services"
            class="btn btn-outline btn-lg hover-lift focus-ring border-white text-white hover:bg-white hover:text-brand-900"
            aria-label="View all joinery services"
          >
            View All Services
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section with clean presentation -->
  <section class="section relative z-10 bg-neutral-50">
    <div class="container-wide">
      <div class="section-header animate-on-scroll">
        <h2 class="section-title">What Our Customers Say</h2>
        <p class="section-subtitle text-balance">
          Don't just take our word for it - hear from our satisfied customers
          across Yorkshire.
        </p>
      </div>

      <div class="animate-on-scroll">
        <Reviews />
      </div>
    </div>
  </section>
</Layout>

<!-- Note: Structured data is already included in Layout component, no need to duplicate -->
