---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasBespokeJoinery.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/moulding_plane.png";
import galleryImg2 from "../../assets/images/bench-plane-frog.jpg";
import galleryImg3 from "../../assets/images/bespoke-joinery/handmade-wooden-garage-door.jpg";
import galleryImg4 from "../../assets/images/bespoke-joinery/raised-panelling.jpg";
import galleryImg5 from "../../assets/images/bespoke-joinery/herringbone-flooring.jpg";

const {
  formattedServiceName,
  locationInText,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Bespoke joinery services ${locationInText.trim()} — handcrafted woodwork, staircases, doors, windows and more. 30+ years of trusted local expertise for unique commissions and quality installations.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText.trim()} | Bespoke Joinery for Doors, Windows & Staircases`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            Hi, I’m Robert — a time-served joiner with over 30 years of hands-on
            experience in bespoke carpentry. I work on one-off commissions, site
            joinery, traditional framing, and fine finishing — offering reliable
            bespoke joinery services {locationInText}.
          </p>
          <p>
            Whether you need something unique crafted from scratch or a reliable
            install, I provide tailor-made joinery solutions{locationInText}.
            Every job is different, so I combine traditional craftsmanship with
            precision tools and quality materials to get it just right.
          </p>
          <p>
            Our joiners are proficient in both modern and traditional 1st Fix
            Joinery, 2nd Fix Joinery, and Final Fix principles. Using jigs and
            routers, we guarantee assured quality and craftsmanship.
          </p>
          <p>
            From handmade joinery to ready-made products from our reputable
            suppliers, we strive to provide the best possible service. Our range
            of services includes high-quality doors, windows, staircases,
            skirtings, architraves, ironmongery installation, traditional roofs,
            truss roofs, and shop fitting {locationInText}.
          </p>

          <h2 class="font-semibold text-lg">Dependable</h2>
          <p>
            If you require bespoke joinery{locationInText}, Coulsy Joinery is
            the dependable provider capable of meeting your precise requirements
            and ensuring customer satisfaction.
          </p>
          <h2 class="font-semibold text-lg">Reliable</h2>
          <p>
            Our joinery team is consistently reliable and adaptable, working
            precisely according to your bespoke joinery specifications.
          </p>
          <h2 class="font-semibold text-lg">Skilled</h2>
          <p>
            They are highly skilled and professional, with extensive experience
            and qualifications in their field.
          </p>

          <h2 class="font-semibold text-lg">City &amp; Guilds Certified</h2>
          <p>
            I hold a City & Guilds Advanced Craft Certificate and bring genuine
            pride to every job. If you'd like to know more about my background
            and qualifications, feel free to <a
              href="/qualifications"
              class="font-semibold text-blue-700 hover:underline"
              >view my credentials</a
            >.
          </p>
          <p>
            If you're looking for bespoke joinery{locationInText} — with honest advice
            and a finish you'll be proud of — I'd love to hear from you.
          </p>
          <ReviewsLinkSection />
        </div>
        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Traditional wooden moulding plane used in bespoke joinery craftsmanship ${locationInText}`,
                  label: "Wooden Moulding Plane",
                },
                {
                  src: galleryImg2,
                  alt: `Close-up of a bench plane frog component for precision woodworking ${locationInText}`,
                  label: "Bench Plane Frog",
                },
                {
                  src: galleryImg3,
                  alt: `Custom handmade wooden garage door by Coulsy Joinery ${locationInText}`,
                  label: "Handmade Wooden Garage Door",
                },
                {
                  src: galleryImg4,
                  alt: `Detailed view of raised wood paneling in custom joinery work ${locationInText}`,
                  label: "Raised Panelling Detail",
                },
                {
                  src: galleryImg5,
                  alt: `Herringbone patterned hardwood flooring installed by skilled joiners ${locationInText}`,
                  label: "Herringbone Flooring",
                  loading: "lazy",
                },
              ]}
            />
          </div>
          <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md w-full">
            <h2
              class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
            >
              Get in Touch About Your Joinery Project
            </h2>
            <p class="text-gray-600 mb-6 text-center">
              Whether it’s a bespoke staircase, sash window repair, or a full
              joinery refit — I’d be happy to chat and see how I can help..
            </p>
            <ContactForm />
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
