---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasStudWalls.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/stud-walls/stud-walls1.jpg";
import galleryImg2 from "../../assets/images/stud-walls/stud-walls2.jpg";
import galleryImg3 from "../../assets/images/stud-walls/stud-walls3.jpg";
import galleryImg4 from "../../assets/images/stud-walls/stud-walls4.jpg";

const {
  formattedServiceName,
  locationInText,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Expert stud wall partitioning services ${locationInText}, tailored for home improvements, room conversions, and commercial fit-outs. Reliable timber stud framing from a qualified, time-served joiner.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText} | Timber Stud Wall Partitioning for Homes & Commercial Spaces`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>
      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            Need to divide up a space {locationInText}? I offer expert stud wall
            partitioning with a personal touch. Whether you’re converting a
            room, creating a new bedroom, or fitting out a commercial unit, I
            can help make it happen.
          </p>
          <p>
            A timber stud wall is a simple but effective way to add structure to
            a space. Using solid timber studs securely fixed top and bottom,
            I’ll build clean, straight partitions with all the right spacing and
            solid noggins to support whatever finish you need — plasterboard,
            panelling, or soundproofing.
          </p>
          <p>
            Every job is built to last, with blocking and support where it
            matters. I can include door openings, reinforcements for shelves or
            TVs, and work around beams and awkward features.
          </p>
          <h2 class="font-semibold text-lg">
            Trusted Joinery {locationInText}
          </h2>
          <p>
            I’ve been building stud walls and timber partitions for over 30
            years, and I bring proper trade know-how to every job. You’ll get a
            clean, careful install with tidy finishing — no rough edges or gaps,
            just solid work that’s ready to plaster or decorate.
          </p>
          <h2 class="font-semibold text-lg">CSCS Certified and Time-Served</h2>
          <p>
            I'm CSCS-certified and City & Guilds qualified. That means you’re
            getting skilled, experienced joinery work — no guesswork or cut
            corners.
          </p>
          <p>
            If you’re based {locationInText} and thinking of a new stud wall layout,
            feel free to
            <a
              href="/contact"
              class="font-semibold text-blue-700 hover:underline"
              >get in touch</a
            >. I’ll be happy to talk through your ideas and give you an honest
            quote.
          </p>
          <ReviewsLinkSection />
        </div>

        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Timber stud wall frame construction in progress showing vertical studs and noggins ${locationInText}`,
                  label: "Timber Stud Wall Framing",
                },
                {
                  src: galleryImg2,
                  alt: `Completed timber partition wall with door opening prepared for plasterboard finish ${locationInText}`,
                  label: "Partition Wall with Door Opening",
                },
                {
                  src: galleryImg3,
                  alt: `Internal wooden stud wall installation dividing a large space into rooms ${locationInText}`,
                  label: "Room Division with Stud Wall",
                },
                {
                  src: galleryImg4,
                  alt: `Detailed view of timber stud wall showing accurate spacing and secure fixings ${locationInText}`,
                  label: "Precision Timber Stud Detailing",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Need help with a heritage or restoration joinery project? I’d be
                happy to discuss how we can help.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
