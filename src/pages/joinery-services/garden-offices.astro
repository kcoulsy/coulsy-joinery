---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasGardenOffices.astro";

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/garden-offices/garden-office-image1.jpg";
import galleryImg2 from "../../assets/images/garden-offices/garden-office-image2.jpg";
import galleryImg3 from "../../assets/images/garden-offices/garden-office-image3.jpg";
import galleryImg4 from "../../assets/images/garden-offices/garden-office-timber-clad.jpeg";
import galleryImg5 from "../../assets/images/garden-offices/annex-under-construction.jpeg";
import galleryImg6 from "../../assets/images/garden-offices/garden-office-interior.jpeg";

const {
  formattedServiceName,
  locationInText,
  cleanLocationName,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Beautifully designed, fully insulated garden offices ${locationInText} — built by a time-served joiner with 30+ years of experience. Bespoke, energy-efficient, and built to last.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText} | Beautiful Bespoke Garden Offices — Designed & Built to Last`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            I’m Robert, a time-served joiner near York with over 30 years of
            hands-on experience. I build bespoke garden offices that balance
            form and function — crafted with care and precision.
          </p>
          <p>
            If you want a garden office that feels like a true extension of your
            home, I’d love to help.
          </p>
          <p>
            Transform your outdoor space into a peaceful, practical escape —
            ideal for working, creating, or simply unwinding.
          </p>
          <p>
            Every project starts with a conversation — whether you’ve got a full
            plan, a quick sketch, or just an idea. I’ll help shape it into a
            garden office that’s beautiful, durable, and right for your space.
          </p>
          <p>
            I use high-quality, insulated timber frames and premium materials to
            make sure your garden office is warm, efficient, and built to last.
            Every build is tailored to your style, your space, and how you want
            to use it — whether that’s a focused workspace, creative studio, or
            quiet retreat.
          </p>
          {
            cleanLocationName && (
              <p>
                {cleanLocationName} is full of different property types — from
                contemporary homes to older period builds — and I always tailor
                each garden office to complement the setting. From scale and
                cladding to rooflines and glazing, it all matters in getting a
                result that feels like it belongs.
              </p>
            )
          }
          <p>
            Your ideal garden office is just a few steps away. Let’s design
            something warm, welcoming, and built to last — whether it's a quiet
            studio, a work-from-home hub, or a retreat from the daily rush.
          </p>
          <h3 class="font-semibold text-lg">Rules & Regulations</h3>
          <p>
            Most garden offices can be built without planning permission, as
            long as they meet certain limits on height, placement, and use. I’ll
            talk you through what applies and make sure the build complies with
            relevant Building Regs, especially for insulation and electrics.
          </p>
          <p>
            Ready to get started? <a
              href="/contact"
              class="text-blue-700 underline hover:text-blue-900"
              >Get in touch</a
            > for a free consultation.
          </p>
          <p>
            After something simpler? My <a
              href="/joinery-services/garden-rooms"
              class="text-blue-700 underline hover:text-blue-900"
              >bespoke garden rooms</a
            > are perfect for relaxing, hobbies, or enjoying your garden in comfort.
          </p>
          <ReviewsLinkSection />
        </div>

        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Exterior view of a bespoke garden office built by Coulsy Joinery ${cleanLocationName}`,
                  label: "Bespoke Garden Office Exterior",
                },
                {
                  src: galleryImg2,
                  alt: `Interior workspace of a custom garden office ${cleanLocationName}`,
                  label: "Custom Garden Office Interior",
                },
                {
                  src: galleryImg3,
                  alt: `Modern insulated timber-framed garden office ${cleanLocationName}`,
                  label: "Modern Garden Office",
                },
                {
                  src: galleryImg4,
                  alt: `Compact timber garden office built by Coulsy Joinery ${cleanLocationName}`,
                  label: "Compact Timber Garden Office",
                },
                {
                  src: galleryImg5,
                  alt: `Garden office annex under construction by Coulsy Joinery ${cleanLocationName}`,
                  label: "Garden Granny Annex Under Construction",
                },
                {
                  src: galleryImg6,
                  alt: `Interior of a completed timber garden office ${cleanLocationName}`,
                  label: "Finished Garden Office Interior",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch About Your Garden Office
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Whether it’s a fully insulated office, hobby space or a relaxing
                retreat, I’d be happy to help you design and build something
                that fits perfectly.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
