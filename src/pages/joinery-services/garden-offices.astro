---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasGardenOffices.astro";

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/garden-offices/garden-office-image1.jpg";
import galleryImg2 from "../../assets/images/garden-offices/garden-office-image2.jpg";
import galleryImg3 from "../../assets/images/garden-offices/garden-office-image3.jpg";
import galleryImg4 from "../../assets/images/garden-offices/garden-office-image4.jpg";

const {
  formattedServiceName,
  locationInText,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Beautifully designed, fully insulated garden offices ${locationInText} — built by a time-served joiner with 30+ years of experience. Bespoke, energy-efficient, and built to last.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText} | Beautiful Bespoke Garden Offices — Designed & Built to Last`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            I'm Robert, a time-served joiner based near York. I design and build
            bespoke garden offices that balance form and function — crafted with
            care, precision, and over 30 years of hands-on experience. If you’re
            looking for a garden office that feels truly part of your home, I’d
            love to help.
          </p>
          <p>
            Transform your outdoor space into a peaceful, practical escape —
            ideal for working, creating, or simply unwinding.
          </p>
          <p>
            Every project starts with a conversation. Whether you have a sketch,
            a full set of plans, or just a rough idea, I’ll work with you to
            shape it into a beautiful, durable garden office that suits your
            needs and your site.
          </p>
          <p>
            I use high-quality, insulated timber frames and premium materials to
            make sure your garden office is warm, efficient, and built to last.
            Each build is tailored to your style, space, and how you want to use
            it — from a focused workspace to a creative studio or a relaxing
            retreat.
          </p>
          <p>
            As a local joiner working across {locationInText}, I know how to
            tailor garden rooms to your space, property style, and planning
            context — making sure they sit naturally and add real value.
          </p>
          <p>
            Your ideal garden office is just a few steps away. Let’s design
            something warm, welcoming, and built to last — whether it's a quiet
            studio, a work-from-home hub, or a retreat from the daily rush.
          </p>
          <h3 class="font-semibold text-lg">Rules & Regulations</h3>
          <p>
            Most garden offices can be built without planning permission, as
            long as they meet certain limits on height, placement, and use. I’ll
            talk you through what applies and make sure the build complies with
            relevant Building Regs, especially for insulation and electrics.
          </p>
          <p>
            Ready to get started? <a
              href="/contact"
              class="text-blue-700 underline hover:text-blue-900"
              >Get in touch</a
            > for a free consultation.
          </p>
          <p>
            After something simpler? My <a
              href="/joinery-services/garden-rooms"
              class="text-blue-700 underline hover:text-blue-900"
              >bespoke garden rooms</a
            > are perfect for relaxing, hobbies, or enjoying your garden in comfort.
          </p>
          <ReviewsLinkSection />
        </div>

        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Exterior view of a bespoke garden office ${locationInText}`,
                  label: "Bespoke Garden Office Exterior",
                },
                {
                  src: galleryImg2,
                  alt: `Interior of custom-built garden office workspace ${locationInText}`,
                  label: "Custom Garden Office Interior",
                },
                {
                  src: galleryImg3,
                  alt: `Modern insulated garden office build ${locationInText}`,
                  label: "Modern Insulated Garden Office",
                },
                {
                  src: galleryImg4,
                  alt: `Compact timber garden office build by Coulsy Joinery ${locationInText}`,
                  label: "Compact Timber Garden Office",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch About Your Garden Office
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Whether it’s a fully insulated office, hobby space or a relaxing
                retreat, I’d be happy to help you design and build something
                that fits perfectly.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
