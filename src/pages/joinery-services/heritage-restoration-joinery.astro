---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasHeritage.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
// import galleryImg1 from "../../assets/images/moulding_plane.png";
import galleryImg2 from "../../assets/images/heritage/floor-repair-victorian-house.jpg";
import galleryImg3 from "../../assets/images/heritage/hand-made-moulding-bead.jpg";
import galleryImg4 from "../../assets/images/heritage/old-floor-joist-repairs.jpg";
import galleryImg5 from "../../assets/images/heritage/oak-window-repair.jpg";
import galleryImg6 from "../../assets/images/heritage/church-pew-restoration.jpg";
import galleryImg7 from "../../assets/images/bespoke-joinery/raised-panelling.jpg";
import galleryImg8 from "../../assets/images/heritage/oak-window-restoration.jpg";

const {
  formattedServiceName,
  locationInText,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Expert heritage joinery and restoration work ${locationInText}, preserving period features with traditional craftsmanship. Over 30 years of experience working on listed buildings, churches, and historic properties with high-quality repairs, replications, and bespoke timber work.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText} | Heritage Joinery & Restoration Specialist for Period Properties`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            With over 30 years of hands-on experience, I specialise in heritage
            joinery and restoration work {locationInText}. Whether it’s a listed
            cottage, period townhouse, or historic church, I treat every job
            with the respect and detail it deserves.
          </p>

          <p>
            My approach is always sympathetic to the building’s original
            features. I use traditional tools and methods wherever possible —
            from restoring original sash windows and replicating mouldings, to
            repairing floor joists, oak frames, and decorative joinery.
          </p>

          <p>
            I’ve worked on conservation projects throughout the UK, offering
            tailored solutions for each property. No two heritage buildings are
            the same — so every job is assessed and planned carefully to deliver
            a result that’s both functional and true to the building’s character {
              locationInText
            }.
          </p>

          <p>
            Whether you’re repairing damage, restoring original features, or
            replacing timber elements with accurate replicas, I can help with
            expert heritage joinery {locationInText}.
          </p>

          <h2 class="font-semibold text-lg">Care and Precision</h2>
          <p>
            I take pride in careful workmanship — making sure everything fits as
            it should, uses the right materials, and enhances the value and
            integrity of your property.
          </p>

          <h2 class="font-semibold text-lg">Trusted and Time-Served</h2>
          <p>
            I’m City & Guilds qualified and have decades of joinery experience
            under my belt. I believe in doing things properly and taking the
            time to get the details right.
          </p>

          <p>
            If you’d like to chat through a heritage joinery or restoration
            project {locationInText}, I’d be happy to help.
            <a
              href="/contact"
              class="font-semibold text-blue-700 hover:underline"
              >Get in touch here</a
            >.
          </p>

          <ReviewsLinkSection />
        </div>
        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                // {
                //   src: galleryImg1,
                //   alt: `Vintage moulding plane used in traditional joinery ${locationInText}`,
                //   label: "Antique Moulding Plane Tool",
                // },
                {
                  src: galleryImg2,
                  alt: `Restoration of Victorian-era timber flooring ${locationInText}`,
                  label: "Victorian Timber Floor Repair",
                },
                {
                  src: galleryImg3,
                  alt: `Hand-shaped moulding bead for heritage woodwork ${locationInText}`,
                  label: "Handcrafted Moulding Bead",
                },
                {
                  src: galleryImg4,
                  alt: `Repaired joists in a period property floor structure ${locationInText}`,
                  label: "Historic Floor Joist Repair",
                },
                {
                  src: galleryImg5,
                  alt: `Oak window repair on heritage building ${locationInText}`,
                  label: "Oak Frame Window Repair and Maintenance",
                  loading: "lazy",
                },
                {
                  src: galleryImg6,
                  alt: `Refinished church pew in restoration project ${locationInText}`,
                  label: "Restored Church Pew Bench",
                  loading: "lazy",
                },
                {
                  src: galleryImg7,
                  alt: `Raised panel wall joinery installation ${locationInText}`,
                  label: "Raised Timber Panel Wall Restored",
                  loading: "lazy",
                },
                {
                  src: galleryImg8,
                  alt: `Heritage oak window restored with original features ${locationInText}`,
                  label: "Repaired Heritage Oak Windows",
                  loading: "lazy",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch About Your Heritage Project
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Thinking about a heritage or restoration joinery project? I'd be
                glad to have a chat and see how I can help.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
