---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasHeritage.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/moulding_plane.png";
import galleryImg2 from "../../assets/images/heritage/floor-repair-victorian-house.jpg";
import galleryImg3 from "../../assets/images/heritage/hand-made-moulding-bead.jpg";
import galleryImg4 from "../../assets/images/heritage/old-floor-joist-repairs.jpg";
import galleryImg5 from "../../assets/images/heritage/oak-window-repair.jpg";
import galleryImg6 from "../../assets/images/heritage/church-pew-restoration.jpg";
import galleryImg7 from "../../assets/images/bespoke-joinery/raised-panelling.jpg";
import galleryImg8 from "../../assets/images/heritage/oak-window-restoration.jpg";

const { location, type } = Astro.params;

function capitalizeFirstLetter(string: string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}
let typeFormated = type
  ? type.split("-").map(capitalizeFirstLetter).join(" ")
  : "Heritage and Restoration Joinery";

const locationFormated = location ? capitalizeFirstLetter(location) : "";

const locationInText = location ? `in ${locationFormated} ` : "";

const alt = location
  ? typeFormated +
    " in " +
    locationFormated +
    " by Coulsy Joinery for all your " +
    locationFormated +
    " carpentry and joinery services"
  : typeFormated;
---

<Layout
  title={location ? typeFormated + " in " + locationFormated : typeFormated}
>
  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: typeFormated, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {typeFormated}
        {location ? "in " + locationFormated : ""}
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            With over 30 years of experience in carpentry and joinery, we
            proudly serve clients across the domestic, commercial, and
            industrial sectors. Our Heritage and Restoration Joinery service
            {location ? " in " + locationFormated + ", " : ""}is a cornerstone
            of our commitment to delivering exceptional craftsmanship.
          </p>
          <p>
            We specialise in Architectural, Period, Heritage and Restoration
            projects, combining traditional woodworking techniques with modern
            advancements to produce high-quality, bespoke joinery. Whether
            restoring period features or replicating intricate details, our
            expert team ensures every project is completed with precision and
            care, preserving the character and integrity of historic properties {
              location ? " in " + locationFormated + "" : ""
            }.
          </p>
          <p>
            Our expertise in Architectural, Period, Heritage and Restoration
            joinery guarantees outstanding results, blending time-honored
            methods with unparalleled workmanship.
          </p>

          <h2 class="font-semibold text-lg">Dependable</h2>
          <p>
            If you require a {typeFormated} service {
              location ? " in " + locationFormated : ""
            }, Coulsy Joinery is the dependable provider capable of meeting your
            precise requirements and ensuring your customer satisfaction.
          </p>
          <h2 class="font-semibold text-lg">Reliable</h2>
          <p>
            We are consistently reliable and adaptable, working precisely
            according to your {typeFormated} specifications.
          </p>
          <h2 class="font-semibold text-lg">Skilled</h2>
          <p>
            We are highly skilled and professional, with extensive experience
            and qualifications in our field.
          </p>

          <h2 class="font-semibold text-lg">City &amp; Guilds Certified</h2>
          <p>
            When you choose us, you're choosing a team that's not only qualified
            but dedicated to excellence in every aspect of our work.
          </p>
          <p>
            We can provide more information and answer any questions you may
            have. Please feel free to <a
              href="/contact"
              class="font-semibold text-blue-700 hover:underline">contact us</a
            >.
          </p>
          <ReviewsLinkSection />
        </div>
        <aside
          class="w-full flex flex-col items-stretch gap-6 order-last md:order-none"
        >
          <div class="w-full">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Vintage moulding plane used in traditional joinery ${locationInText}`,
                  label: "Antique Moulding Plane Tool",
                },
                {
                  src: galleryImg2,
                  alt: `Restoration of Victorian-era timber flooring ${locationInText}`,
                  label: "Victorian Timber Floor Repair",
                },
                {
                  src: galleryImg3,
                  alt: `Hand-shaped moulding bead for heritage woodwork ${locationInText}`,
                  label: "Handcrafted Moulding Bead",
                },
                {
                  src: galleryImg4,
                  alt: `Repaired joists in a period property floor structure ${locationInText}`,
                  label: "Historic Floor Joist Repair",
                },
                {
                  src: galleryImg5,
                  alt: `Oak window repair on heritage building ${locationInText}`,
                  label: "Oak Frame Window Repair",
                  loading: "lazy",
                },
                {
                  src: galleryImg6,
                  alt: `Refinished church pew in restoration project ${locationInText}`,
                  label: "Restored Church Pew Seating",
                  loading: "lazy",
                },
                {
                  src: galleryImg7,
                  alt: `Raised panel wall joinery installation ${locationInText}`,
                  label: "Raised Panel Wall Joinery",
                  loading: "lazy",
                },
                {
                  src: galleryImg8,
                  alt: `Heritage oak window restored with original features ${locationInText}`,
                  label: "Repaired Heritage Oak Window",
                  loading: "lazy",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Need help with a heritage or restoration joinery project? Iâ€™d be
                happy to discuss how we can help.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
