---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ModernContactForm from "../../components/ModernContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasDoorHanging.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/doors/fire-doors1.jpg";
import galleryImg2 from "../../assets/images/doors/fire-doors2.jpg";
import galleryImg3 from "../../assets/images/doors/fire-seal.jpg";
import galleryImg4 from "../../assets/images/doors/fire-doors-sign.png";

import FireStats from "../../components/FireStats.astro";
import CommonFaults from "../../components/CommonFaults.astro";

const {
  formattedServiceName,
  locationInText,
  cleanLocationName,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Professional door hanging services ${locationInText} by a City & Guilds qualified joiner. Internal, external, and fire door installation with precision and care. Over 30 years' experience.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText} | Professional Door Hanging Services by a Qualified Joiner`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            I’m Robert, a City & Guilds qualified joiner offering professional
            door hanging and fire door installation services {locationInText}.
            With over 30 years’ experience, I specialise in fitting internal and
            external doors to a high standard — including certified fire doors
            for homes, landlords, and commercial buildings.
          </p>
          <p>
            From timber and composite to heavy-duty metal and steel fire exit
            doors, I make sure every install is safe, precise, and built to
            last. Whether you need a single door replacing or a full set fitted
            as part of a refurbishment or fire safety upgrade, I’ll give you
            straightforward advice and a top-notch result.
          </p>
          {
            cleanLocationName && (
              <p>
                {cleanLocationName} includes everything from modern new builds
                to older character properties. I adapt each install to suit the
                quirks and materials of the building — whether it's solid timber
                frames, out-of-square openings, or specialist fire-rated
                requirements.
              </p>
            )
          }
          <p>
            If you're specifically looking for a steel fire escape door, check
            out our
            <a
              href="/joinery-services/steel-fire-exit-door-installer"
              class="text-blue-700 font-semibold hover:underline"
              >Steel Fire Exit Door Installer</a
            >
            service.
          </p>
          <hr class="my-6 border-gray-200" />

          <h2 class="text-xl sm:text-2xl font-semibold text-gray-800">
            Why Clients Choose Me
          </h2>
          <p>
            A lot of trades can fit a door — but not everyone does it to a
            proper standard. I don’t rush, I don’t bodge, and I don’t leave you
            with gaps, draughts, or sticking doors. Everything gets checked and
            fitted with care.
          </p>
          <p>
            I treat your home with respect: floors are protected, mess is kept
            to a minimum, and everything’s left tidy. You’ll always get a full
            walk-through of the work, and I make sure you’re happy before I
            leave.
          </p>
          <p>
            I also supply a signed handover form for your records — ideal if
            it’s a rental property, commercial premises, or part of a larger
            fire strategy.
          </p>

          <h3 class="text-lg sm:text-xl font-semibold text-gray-700">
            Dependable
          </h3>
          <p>
            I show up on time and finish when I say I will. It’s how I’ve built
            long-term trust with my clients.
          </p>
          <h3 class="text-lg sm:text-xl font-semibold text-gray-700">
            Qualified
          </h3>
          <p>
            I hold City & Guilds and CSCS Gold card certification, so you know
            the job’s done by someone trained and competent.
          </p>
          <p>
            I'm also FireQual registered, giving you extra peace of mind for
            regulated fire door work. You can <a
              href="/about#qualifications"
              class="text-blue-700 hover:underline font-semibold"
              >view my qualifications here</a
            >.
          </p>
          <h3 class="text-lg sm:text-xl font-semibold text-gray-700">
            Detail-Focused
          </h3>
          <p>
            From frame prep to seal alignment and closing action — I take the
            time to get it right, because the finish matters.
          </p>
          <hr class="my-6 border-gray-200" />

          <p>
            If you're {locationInText} and need help with door fitting or fire door
            installation, I’d be happy to have a chat. Just
            <a
              href="/contact"
              class="font-semibold text-blue-700 hover:underline"
              >get in touch</a
            >.
          </p>
          <ReviewsLinkSection />
        </div>

        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Installed internal fire door with intumescent strip ${locationInText}`,
                  label: "Internal Fire Door with Intumescent Strip",
                },
                {
                  src: galleryImg2,
                  alt: `Commercial-grade fire door set with professional fitting ${locationInText}`,
                  label: "Commercial Fire Door Installation",
                },
                {
                  src: galleryImg3,
                  alt: `Close-up view of fire seal and smoke protection strip ${locationInText}`,
                  label: "Fire Door Seal Detail",
                },
                {
                  src: galleryImg4,
                  alt: `Official fire door signage fixed to timber door ${locationInText}`,
                  label: "Fire Door Safety Signage",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch About Your Door Project
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                If you need help with door fitting, fire doors, or complete door
                set installations, I’d be happy to discuss how I can help — just
                drop me a line.
              </p>
              <ModernContactForm title="Get Your Free Quote" subtitle="Ready to start your project? Get in touch for a free, no-obligation quote." />
            </div>
          </div>
        </aside>
      </div>

      <FireStats />
      <CommonFaults />

      <NearbyAreas />
    </section>
  </main>
</Layout>
