---
import ContactForm from "../../components/ContactForm.astro";
import Layout from "../../layouts/Layout.astro";
import NearbyAreas from "../../components/NearbyAreasCarpenter.astro"; // this location is unique a specific for the service offered !! CHECK
import Breadcrumb from "../../components/Breadcrumb.astro";

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/moulding_plane.png";
import galleryImg2 from "../../assets/images/bench-plane-frog.jpg";
import galleryImg3 from "../../assets/images/bespoke-joinery/handmade-wooden-garage-door.jpg";
import galleryImg4 from "../../assets/images/bespoke-joinery/raised-panelling.jpg";

const { location, type } = Astro.params;

function capitalizeFirstLetter(string: string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}
let typeFormated = type
  ? type.split("-").map(capitalizeFirstLetter).join(" ")
  : "Carpenter";

const locationFormated = location ? capitalizeFirstLetter(location) : "";

const locationInText = location ? `in ${locationFormated} ` : "";

const alt = location
  ? typeFormated +
    " in " +
    locationFormated +
    " by Coulsy Joinery for all your " +
    locationFormated +
    " carpentry and joinery services"
  : typeFormated;
---

<Layout
  title={location ? typeFormated + " in " + locationFormated : typeFormated}
>
  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: typeFormated, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {typeFormated}
        {location ? "in " + locationFormated : ""}
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            Hi, I’m Robert — a time-served carpenter and joiner with over 30
            years of experience working on everything from new builds and
            extensions to restorations and roofing. I take pride in doing things
            properly — no shortcuts, no guesswork — just solid, reliable work.
          </p>

          <p>
            Carpentry is the backbone of any build. Whether it’s first fix stud
            walls, joists, roof structures, or floor systems, I make sure
            everything is measured, marked, and fixed with care. My work sets
            the standard for whatever follows — and I treat that responsibility
            seriously.
          </p>

          <p>
            I bring a mix of traditional skill and modern tools to every job.
            From cutting in rafters and installing trusses to prepping timber
            frames for cladding, it’s all about getting the structure right and
            leaving it neat, plumb, and ready for the next trade.
          </p>

          <p>
            You can also <a
              href="/about"
              class="font-semibold text-blue-700 hover:underline"
              >learn more about me here</a
            > or see <a
              href="/qualifications"
              class="font-semibold text-blue-700 hover:underline"
              >what qualifications and experience I bring to the job</a
            >.
          </p>

          <p>
            I’m based in North Yorkshire and work in and around {
              location
                ? capitalizeFirstLetter(location)
                : "the surrounding area"
            }. If you’re looking for a dependable carpenter who turns up, gets
            stuck in, and delivers work that lasts — I’d be glad to help.
          </p>

          <p>
            Feel free to <a
              href="/contact"
              class="font-semibold text-blue-700 hover:underline"
              >get in touch</a
            > for a chat about your project. Whether it’s domestic or commercial,
            I’m happy to offer advice and a no-obligation quote.
          </p>
        </div>

        <aside
          class="w-full flex flex-col items-stretch gap-6 order-last md:order-none"
        >
          <div class="w-full">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Close-up of traditional moulding plane used in bespoke joinery ${locationInText}`,
                  label: "Traditional Moulding Plane Joinery Tool",
                },
                {
                  src: galleryImg2,
                  alt: `Detail of bench plane for fine woodworking and joinery precision ${locationInText}`,
                  label: "Precision Bench Plane Joinery",
                },
                {
                  src: galleryImg3,
                  alt: `Handcrafted wooden garage door created by experienced carpenter ${locationInText}`,
                  label: "Custom Wooden Garage Door",
                },
                {
                  src: galleryImg4,
                  alt: `Raised panel detailing in heritage joinery project ${locationInText}`,
                  label: "Heritage Raised Panel Joinery",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                If you’ve got a structural carpentry project in mind — from
                roofing and floors to first fix and framing — I’d be happy to
                chat and see how I can help.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>

      <NearbyAreas location={location} />
    </section>
  </main>
</Layout>
