---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasJoinerySubcontractors.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/joinery-subcontractors/stud-walls-commercial.jpg";
import galleryImg2 from "../../assets/images/joinery-subcontractors/sub-contract-joinery1.jpg";
import galleryImg3 from "../../assets/images/joinery-subcontractors/sub-contract-joinery2.jpg";
import galleryImg4 from "../../assets/images/joinery-subcontractors/sub-contract-joinery3.jpg";

const {
  formattedServiceName,
  locationInText,
  cleanLocationName,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Skilled and reliable joinery subcontractors ${locationInText}, offering supply-and-fix or labour-only services for commercial, public sector and residential projects. Fully qualified and trusted for high-quality site joinery ${locationInText}.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText} | Site Joinery Subcontractors for Construction & Fit-Out`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            I provide subcontract joinery services {locationInText} for main contractors,
            developers, and builders who need a skilled, reliable, and straightforward
            tradesperson on site.
          </p>
          <p>
            Based in York, I work across {locationInText} and the wider Yorkshire
            and Humberside areas. I’m happy to work on a labour-only or supply-and-fix
            basis, depending on what suits your job best.
          </p>
          <p>
            My background includes projects across housing, offices, education,
            healthcare and more — always with a commitment to high standards and
            site-friendly professionalism.
          </p>
          {
            cleanLocationName && (
              <p>
                {cleanLocationName} has a constant flow of commercial and
                residential building work — and I regularly support local
                contractors with reliable site-based joinery services. Whether
                it’s internal fit-outs, first fix work or joinery for specialist
                environments, I bring experience and consistency to the job.
              </p>
            )
          }
          <h3 class="text-lg sm:text-xl font-semibold text-gray-700">
            Straightforward and Dependable
          </h3>
          <p>
            If you need a dependable subcontract joiner who turns up and gets on
            with the job, I’m your man. I take pride in delivering clean,
            accurate joinery work that aligns with programme goals and
            contractor expectations.
          </p>
          <p>
            Whether it’s first fix, stud walls, doors or finishings, I work
            closely with site managers and other trades to keep things running
            smoothly.
          </p>
          <p>
            I’m fully qualified, time-served, and understand the pace and
            pressures of site-based joinery — especially when dealing with live
            environments like schools or care homes.
          </p>
          <h3 class="text-lg sm:text-xl font-semibold text-gray-700">
            Fully Certified
          </h3>
          <p>
            All relevant paperwork is sorted — including RAMS and site guidance.
            You’ll get a professional setup that doesn’t create extra work or
            risk.
          </p>
          <p>
            Need to see qualifications or past examples? No problem — just ask.
            I’m always happy to provide details or references.
          </p>
          <h3 class="text-lg sm:text-xl font-semibold text-gray-700">
            Let's Talk
          </h3>
          <p>
            If you’re looking for a joinery subcontractor {locationInText} who’s
            committed to getting it done properly, get in touch — I’d be happy to
            have a chat and see how I can help.
          </p>
          <ReviewsLinkSection />
        </div>

        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  alt: `Professional timber stud wall framing for commercial interior fit-out ${locationInText}by trusted joinery subcontractors`,
                  label: "Commercial Joinery",
                },
                {
                  src: galleryImg2,
                  alt: `Timber joinery subcontractors working on live construction site ${locationInText}across Yorkshire and nearby regions`,
                  label: "Site-Based Joinery Work",
                },
                {
                  src: galleryImg3,
                  alt: `Expert bespoke joinery installation on-site ${locationInText}with high attention to detail`,
                  label: "Subfloor installation for a distribution centre",
                },
                {
                  src: galleryImg4,
                  alt: `Complete commercial joinery subcontractor fit-out ${locationInText}in progress, showcasing quality workmanship`,
                  label: "Roof joists for use as a decking area",
                },
              ]}
            />
          </div>
          <div class="w-full">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Looking for a joinery subcontractor you can rely on? I’d be
                happy to have a chat and see how we can support your next
                project.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
