---
import ContactForm from "../../components/ContactForm.astro";
import Layout from "../../layouts/Layout.astro";
import NearbyAreas from "../../components/NearbyAreasGeneralJoinery.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/timber20joinery.jpg";
import galleryImg2 from "../../assets/images/moulding_plane.png";
import galleryImg3 from "../../assets/images/bench-plane-frog.jpg";
import galleryImg4 from "../../assets/images/bespoke-joinery/handmade-wooden-garage-door.jpg";
import galleryImg5 from "../../assets/images/bespoke-joinery/raised-panelling.jpg";
import galleryImg6 from "../../assets/images/bespoke-joinery/herringbone-flooring.jpg";

const { location, type } = Astro.params;

function capitalizeFirstLetter(string: string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}
let typeFormated = type
  ? type.split("-").map(capitalizeFirstLetter).join(" ")
  : "General Joinery";

const locationFormated = location ? capitalizeFirstLetter(location) : "";

const alt = location
  ? typeFormated +
    " in " +
    locationFormated +
    " by Coulsy Joinery for all your " +
    locationFormated +
    " carpentry and joinery services"
  : typeFormated;
---

<Layout
  title={location ? typeFormated + " in " + locationFormated : typeFormated}
>
  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <div class="flex justify-left">
        <nav class="text-sm sm:text-base pb-6">
          <ol class="list-none p-0 inline-flex space-x-2">
            <li class="flex items-center">
              <svg
                onclick="window.location.href='/';"
                xmlns="http://www.w3.org/2000/svg"
                height="1em"
                viewBox="0 0 576 512"
                class="cursor-pointer hover:fill-blue-500 transition-colors duration-300 mr-2"
                fill="#4b5563"
                ><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                <path
                  d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"
                ></path></svg
              >
              <span class="mx-2">/</span>
            </li>
            <li class="flex items-center">
              <a
                href="/joinery-services"
                class="text-gray-600 hover:text-blue-500 transition-colors duration-300"
                >Joinery Services</a
              >
              <span class="mx-2">/</span>
            </li>

            <li class="flex items-center">
              <span class="text-yellow-600 font-semibold">{typeFormated}</span>
            </li>
          </ol>
        </nav>
      </div>

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {typeFormated}
        {location ? "in " + locationFormated : ""}
      </h1>

      <div class="grid md:grid-cols-2 items-start gap-8">
        <div class="space-y-4">
          <div class="space-y-4 text-gray-600 prose">
            <p>
              At Coulsy Joinery, we take pride in providing reliable,
              high-quality general joinery services{
                location ? " in " + locationFormated : ""
              }. I'm Robert Coulson, a fully time-served joiner with a lifelong
              passion for construction and joinery. With over 30 years of
              hands-on experience, I lead our small, trusted team delivering
              work we are genuinely proud of.
            </p>

            <p>
              Whether you need a door hanging, new skirting boards, or a
              complete internal refurbishment, you’ll always deal directly with
              experienced craftsmen. We bring traditional skills and modern
              techniques together, ensuring your project is completed properly,
              first time.
            </p>

            <p>
              From small repairs to larger improvements, we offer a personal,
              straightforward service for homeowners, landlords, and businesses{
                location ? " in " + locationFormated : ""
              }.
            </p>

            <h3 class="font-semibold text-lg">
              General Joinery Services{
                location ? " in " + locationFormated : ""
              }
            </h3>
            <ul>
              <li>Door hanging and adjustments</li>
              <li>Skirting and architrave fitting</li>
              <li>Stud wall and partition wall construction</li>
              <li>
                Flooring installation (engineered wood, laminate, hardwood)
              </li>
              <li>Pipe and radiator boxing</li>
              <li>Staircase repairs and refurbishments</li>
              <li>Window seats and made-to-measure shelving</li>
              <li>General internal joinery and finishing work</li>
            </ul>

            <h3 class="font-semibold text-lg">Dependable Craftsmanship</h3>
            <p>
              When you choose Coulsy Joinery, you're choosing real tradesmen who
              care about the finish and the small details. We take the same care
              on a simple door hanging as we do on a full renovation.
            </p>

            <h3 class="font-semibold text-lg">Reliable Service</h3>
            <p>
              We believe in doing what we say, turning up when we say, and
              leaving your home clean and tidy. No corporate nonsense — just
              honest, reliable joinery work{
                location ? " in " + locationFormated : ""
              }.
            </p>

            <h3 class="font-semibold text-lg">Skilled and Experienced</h3>
            <p>
              As a fully qualified City & Guilds joiner, I’ve built a reputation
              for honest advice, quality workmanship, and treating every home
              like my own.
            </p>

            <h3 class="font-semibold text-lg">Get in Touch</h3>
            <p>
              If you're planning any joinery work{
                location ? " in " + locationFormated : ""
              }, we'd be happy to have a friendly chat, offer advice, and
              provide a no-pressure quote. Please feel free to <a
                href="/contact"
                class="font-semibold text-blue-700 hover:underline"
                >contact us</a
              >.
            </p>
          </div>
        </div>
        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  label: "Traditional Timber Joinery Project",
                  alt: "Traditional timber joinery work including door and frame by Coulsy Joinery",
                },
                {
                  src: galleryImg2,
                  label: "Handcrafted Moulding Plane",
                  alt: "Detailed view of a traditional moulding plane used in joinery projects",
                },
                {
                  src: galleryImg3,
                  label: "Precision Bench Plane Work",
                  alt: "Joinery bench plane showing clean cuts and precision craftsmanship",
                },
                {
                  src: galleryImg4,
                  label: "Bespoke Wooden Garage Door",
                  alt: "Handmade wooden garage door installed by Coulsy Joinery",
                },
                {
                  src: galleryImg5,
                  label: "Elegant Raised Wood Panelling",
                  alt: "Raised wood panelling crafted for interior joinery projects",
                },
                {
                  src: galleryImg6,
                  label: "Herringbone Hardwood Flooring",
                  alt: "Installation of herringbone hardwood floor pattern by skilled joiners",
                },
              ]}
            />
          </div>
          <div class="w-full order-last md:order-none">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Need help with a heritage or restoration joinery project? I’d be
                happy to discuss how we can help.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>

      <NearbyAreas location={location} />
    </section>
  </main>
</Layout>
