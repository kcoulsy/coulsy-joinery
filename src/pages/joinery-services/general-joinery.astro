---
import Layout from "../../layouts/Layout.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContactForm from "../../components/ContactForm.astro";
import { getFormattedPageData } from "../../utils/pageMeta";
import ReviewsLinkSection from "../../components/ReviewsLinkSection.astro";

// import NearbyAreas from "../../components/NearbyAreasList.astro";
import NearbyAreas from "../../components/NearbyAreasGeneralJoinery.astro"; // this location is unique a specific for the service offered !! CHECK

import GalleryGrid from "../../components/GalleryGrid.astro";
import galleryImg1 from "../../assets/images/timber20joinery.jpg";
import galleryImg2 from "../../assets/images/moulding_plane.png";
import galleryImg3 from "../../assets/images/bench-plane-frog.jpg";
import galleryImg4 from "../../assets/images/bespoke-joinery/handmade-wooden-garage-door.jpg";
import galleryImg5 from "../../assets/images/bespoke-joinery/raised-panelling.jpg";
import galleryImg6 from "../../assets/images/bespoke-joinery/herringbone-flooring.jpg";

const {
  formattedServiceName,
  locationInText,
  businessSchema,
  defaultDescription,
} = getFormattedPageData(Astro);

const description = `Reliable, hands-on joinery services ${locationInText}, delivered personally by a time-served local joiner with over 30 years’ experience. From bespoke features to careful repairs — all finished to a standard I’d be proud to have in my own home.`;
const finalDescription = description || defaultDescription;
---

<Layout
  title={`${formattedServiceName} ${locationInText} | Trusted Local Joiner for Doors, Floors, Stairs & Repairs`}
  description={finalDescription}
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(businessSchema)}
    />
  </Fragment>

  <main class="mx-auto md:mt-16 relative z-10">
    <section class="w-full container mx-auto px-4 sm:px-6 py-8">
      <Breadcrumb
        crumbs={[
          { label: "Joinery Services", href: "/joinery-services" },
          { label: formattedServiceName, current: true },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight pb-4">
        {formattedServiceName}
        {
          locationInText
            .trim()
            .replace(/-/g, " ")
            .replace(/\b\w/g, (c) => c.toUpperCase())
        }
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 items-start gap-8">
        <div class="space-y-4 text-gray-600 prose">
          <p>
            I provide friendly, high-quality general joinery services{
              locationInText
            }, personally delivered with the care and detail you'd expect from
            someone who genuinely loves the craft. I'm Robert — a fully
            time-served joiner with over 30 years of hands-on experience in
            woodwork and building. I personally carry out and oversee every job,
            working with a small, trusted team to deliver work we're proud of.
          </p>

          <p>
            Whether you need a door hung, new skirting boards, or a complete
            internal refurbishment, you’ll always deal directly with experienced
            craftsmen. We bring traditional skills and modern techniques
            together, ensuring your project is completed properly, first time.
          </p>

          <p>
            From small repairs to larger improvements, we offer a personal,
            straightforward service for homeowners, landlords, and businesses{
              locationInText
            }.
          </p>

          <h3 class="font-semibold text-lg">
            General Joinery Services{locationInText}
          </h3>
          <ul>
            <li>Door hanging and adjustments</li>
            <li>Skirting and architrave fitting</li>
            <li>Stud wall and partition wall construction</li>
            <li>Flooring installation (engineered wood, laminate, hardwood)</li>
            <li>Pipe and radiator boxing</li>
            <li>Staircase repairs and refurbishments</li>
            <li>Window seats and made-to-measure shelving</li>
            <li>General internal joinery and finishing work</li>
          </ul>

          <h3 class="font-semibold text-lg">Dependable Craftsmanship</h3>
          <p>
            When you work with me, you’re getting real craftsmanship — I care
            about the finish and the finer details. We take the same care on a
            simple door hanging as we do on a full renovation.
          </p>
          <p>
            I'm a <a
              href="/qualifications"
              class="text-blue-700 font-semibold hover:underline"
            >
              fully qualified City & Guilds joiner</a
            > with decades of practical site experience.
          </p>

          <h3 class="font-semibold text-lg">Skilled and Experienced</h3>
          <p>
            I’m a fully qualified City & Guilds joiner with decades of
            experience and a reputation for honest advice, quality work, and
            treating every home with care.
          </p>

          <h3 class="font-semibold text-lg">Get in Touch</h3>
          <p>
            Thinking about some joinery work? I’m always happy to have a chat,
            offer advice, and provide a no-pressure quote.
          </p>
          <ReviewsLinkSection />
        </div>

        <aside class="w-full flex flex-col items-stretch gap-6">
          <div class="w-full order-last md:order-none">
            <GalleryGrid
              items={[
                {
                  src: galleryImg1,
                  label: "Traditional Timber Joinery Project",
                  alt: `Traditional timber joinery work including door and frame by Robert, local joiner ${locationInText}`,
                },
                {
                  src: galleryImg2,
                  label: "Handcrafted Moulding Plane",
                  alt: `Detailed view of a traditional moulding plane used in joinery projects ${locationInText}`,
                },
                {
                  src: galleryImg3,
                  label: "Precision Bench Plane Work",
                  alt: `Joinery bench plane showing clean cuts and precision craftsmanship ${locationInText}`,
                },
                {
                  src: galleryImg4,
                  label: "Bespoke Wooden Garage Door",
                  alt: `Handmade wooden garage door installed by Robert, local joiner ${locationInText}`,
                },
                {
                  src: galleryImg5,
                  label: "Elegant Raised Wood Panelling",
                  alt: `Raised wood panelling crafted for interior joinery projects ${locationInText}`,
                  loading: "lazy",
                },
                {
                  src: galleryImg6,
                  label: "Herringbone Hardwood Flooring",
                  alt: `Installation of herringbone hardwood floor pattern by skilled joiners ${locationInText}`,
                  loading: "lazy",
                },
              ]}
            />
          </div>
          <div class="w-full order-last md:order-none">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-md">
              <h2
                class="text-xl sm:text-2xl font-bold mb-4 text-gray-800 text-center"
              >
                Get in Touch About Joinery Work
              </h2>
              <p class="text-gray-600 mb-6 text-center">
                Considering general joinery work? Whether it’s repairs,
                upgrades, or a complete interior refit — I’d be happy to chat
                and see how I can help.
              </p>
              <ContactForm />
            </div>
          </div>
        </aside>
      </div>
      <NearbyAreas />
    </section>
  </main>
</Layout>
